<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.github.mitchellolsthoorn.testgenie</id>
    <name>TestGenie</name>
    <vendor>mitchellolsthoorn</vendor>

    <depends>com.intellij.modules.platform</depends>
    <!-- add java functionality. See https://blog.jetbrains.com/platform/2019/06/java-functionality-extracted-as-a-plugin/ for more information -->
    <depends>com.intellij.modules.java</depends>

    <extensions defaultExtensionNs="com.intellij">
        <projectService serviceImplementation="com.github.mitchellolsthoorn.testgenie.services.TestCaseDisplayService"/>
        <projectService serviceImplementation="com.github.mitchellolsthoorn.testgenie.services.CoverageVisualisationService"/>
        <projectService serviceImplementation="com.github.mitchellolsthoorn.testgenie.services.CoverageToolWindowDisplayService"/>

        <toolWindow id="TestGenie" secondary="true" anchor="right"
                    factoryClass="com.github.mitchellolsthoorn.testgenie.toolwindow.TestGenieToolWindowFactory"/>

        <applicationService
                serviceImplementation="com.github.mitchellolsthoorn.testgenie.settings.TestGenieSettingsService"/>
        <applicationService
                serviceImplementation="com.github.mitchellolsthoorn.testgenie.toolwindow.TestGenieToolWindowService"/>
        <applicationConfigurable
                parentId="Settings"
                instance="com.github.mitchellolsthoorn.testgenie.settings.TestGenieSettingsConfigurable"
                id="com.github.mitchellolsthoorn.testgenie.settings.TestGenieSettingsConfigurable"
                displayName="TestGenie Advanced Settings"/>
    </extensions>

    <projectListeners>
        <listener
                class="com.github.mitchellolsthoorn.testgenie.listener.TestGenerationResultListenerImpl"
                topic="com.github.mitchellolsthoorn.testgenie.evosuite.TestGenerationResultListener"/>
    </projectListeners>

    <actions>
        <group id="TestGenie.TestGenieActions" text="TestGenie" description="Actions related to TestGenie" popup="true">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            <action class="com.github.mitchellolsthoorn.testgenie.actions.GenerateTestsActionClass"
                    id="TestGenie.TestGenieActions.GenerateTestsForClass"
                    text="Generate Tests For Class"
                    description="Generate tests for the selected class using TestGenie">
                <keyboard-shortcut first-keystroke="control alt shift G" second-keystroke="C" keymap="$default"/>
            </action>
        </group>
    </actions>
</idea-plugin>
